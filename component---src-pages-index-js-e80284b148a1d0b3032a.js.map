{"version":3,"file":"component---src-pages-index-js-e80284b148a1d0b3032a.js","mappings":"yQAqCA,UAxBiB,IAAa,IAAZ,KAACA,GAAK,EACtB,MAAMC,EAAaD,EAAKE,QAAQC,MAE1BC,EAAqBJ,EAAKK,gBAAgBF,MAE7CG,MAAK,CAACC,EAAGC,IAAOA,EAAEC,YAAYC,cAAcH,EAAEE,eAC9CE,KAAIC,IACH,MAAMC,EAAYZ,EAAWa,MAC3BC,GAAOA,EAAIC,eAAiBJ,EAAYK,QAEpCC,GAAQC,EAAAA,EAAAA,GAASN,GAEvB,MAAO,IAAKD,EAAaM,QAAO,IAGpC,OACE,gBAAC,IAAM,CAACE,UAAWpB,EAAKqB,KAAKC,aAAaC,OACxC,gBAAC,IAAW,CACVC,SAAUpB,IAEL,EAMN,MAAMqB,EAAO,IAAM,6BAAO,wB","sources":["webpack://cartoon-beats-reality-lean-static-gatsby-site/./src/pages/index.js"],"sourcesContent":["import * as React from \"react\"\n\n\nimport { graphql } from 'gatsby';\nimport { getImage } from \"gatsby-plugin-image\"\n\nimport Layout from \"../components/layout\"\nimport ReleaseList from '../components/releases';\n\nimport \"./fonts.scss\"\nimport \"./index.scss\"\nimport \"../fontello/css/fontawesome-musicstores.css\"\n\nconst MainPage = ({data}) => {\n  const imageFiles = data.allFile.nodes;\n\n  const releasesWithImages = data.allReleasesYaml.nodes\n    // .sort((a, b) => (b.catalogueNumber.localeCompare(a.catalogueNumber)))\n    .sort((a, b) => (b.releaseDate.localeCompare(a.releaseDate)))\n    .map(releaseInfo => {\n      const imageNode = imageFiles.find(\n        img => img.relativePath === releaseInfo.cover\n      );\n      const image = getImage(imageNode);\n\n      return { ...releaseInfo, image };\n    });\n\n  return (\n    <Layout siteTitle={data.site.siteMetadata.title}>\n      <ReleaseList\n        releases={releasesWithImages}\n      />\n    </Layout>\n  )\n}\n\nexport default MainPage\n\nexport const Head = () => <title>Cartoon Beats Reality</title>\n\n\nexport const query = graphql`{\n  site {\n    siteMetadata {\n      title\n    }\n  }\n  allReleasesYaml {\n    nodes {\n      id\n      catalogueNumber\n      artist\n      title\n      cover\n      releaseDate\n      gatsbyPath(filePath: \"/releases/{releasesYaml.title}\")\n      listenLinks {\n        bandcamp\n        apple\n        youtube\n        spotify\n        amazon\n        beatport\n        soundcloud\n      }\n    }\n  }\n  allFile(filter: {sourceInstanceName: {eq: \"images\"}}) {\n    nodes {\n      relativePath\n      childImageSharp {\n        gatsbyImageData(width: 600, placeholder: BLURRED)\n      }\n    }\n  }\n}`;\n\n"],"names":["data","imageFiles","allFile","nodes","releasesWithImages","allReleasesYaml","sort","a","b","releaseDate","localeCompare","map","releaseInfo","imageNode","find","img","relativePath","cover","image","getImage","siteTitle","site","siteMetadata","title","releases","Head"],"sourceRoot":""}